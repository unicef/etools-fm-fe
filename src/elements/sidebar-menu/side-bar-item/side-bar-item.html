<!--import [polymer/polymer-element, iron-collapse, iron-icon, iron-icons, paper-tooltip]-->
<!--import [module-styles]-->

<dom-module id="side-bar-item">
    <template>
        <style include="module-styles">
            :host {
                display: block;
                font-size: 14px;
                font-weight: 500;
            }

            :host([hidden]) {
                display: none;
            }

            :host(.iron-selected) #main {
                background-color: #eeeeee;
            }

            :host(.iron-selected) #main:active {
                background-color: #eeeeee;
            }

            :host(.iron-selected:not([nested-nav])) #main > * {
                color: var(--module-color);
            }

            :host(.lighter-item:not([nested-nav])) #main > * {
                color: var(--dark-secondary-text-color);
            }

            #main {
                @apply --layout-horizontal;
                @apply --layout-center;

                position: relative;
                height: 48px;
                cursor: pointer;
                text-decoration: none;
                text-transform: capitalize;
            }

            #main:active {
                background-color: var(--dark-hover-color);
            }

            #name {
                color: #474747 !important;
            }

            :host a#main iron-icon#icon {
                margin: 0 16px 0 20px;
                min-width: 30px;
                min-height: 30px;
                color: #9d9d9d;
            }

            :host(.iron-selected:not([nested-nav])) a#main iron-icon#icon { color: var(--module-color); }
            :host(:not([opened])) #name { display: none; }

            :host(:not(.lighter-item)) {
                color: var(--module-color);
            }

            paper-tooltip {
                white-space: nowrap;
            }
        </style>

        <a id="main" target$="[[_setTarget(external)]]" href$="[[sideBarLink]]" >
            <iron-icon icon="{{icon}}" id="icon"></iron-icon>
            <div id="name">[[name]]</div>
        </a>
        <paper-tooltip position="right" offset="-10">[[name]]</paper-tooltip>
    </template>

    <script>
        (function() {
            class SideBarItem extends Polymer.Element {
                static get is() {return 'side-bar-item';}

                static get properties() {
                    return {
                        name: String,
                        icon: String,
                        sideBarLink: String,
                        external: {
                            type: Boolean,
                            value: false
                        }
                    };
                }

                _setTarget() {
                    if (this.external) {return '_blank';}
                    return '_self';
                }
            }

            customElements.define(SideBarItem.is, SideBarItem);
        })();
    </script>
</dom-module>
